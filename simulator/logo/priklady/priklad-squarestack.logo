to sstack :n :l :m :k
  if :n > 0 [
  fd (:l + :m  - :l * :k)
  lt 90
  fd :m
  repeat 2 [
  rt 90
  fd :l * :k 
  ]
  rt 90
  fd :m
  pu
  bk :m 
  repeat 2 [ lt 90 bk :l * :k ]
  pd
  sstack (:n-1) (:l * :k) (:m * :k) :k
  ]
end

to squarestack :n :l :m :k 
 rt 90
 repeat 4 [ fd :l rt 90 ]
 sstack :n :l :m :k
end

ht
home 
rt 90
bk 150
lt 90
clean
squarestack 20 250 20 0.85